<!-- <%@ language="javascript"%> -->
<!DOCTYPE html>
<html lang="en-150">
	
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta charset="utf-8">
	<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> -->
	<!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" media="all">--> <!--bootswatch-->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootswatch/4.3.1/sandstone/bootstrap.min.css" media="all">
	<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"> <!--google icons-->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.cs	s"> <!--font awesome 20px-sm-->	
	<!--<link href="/open-iconic/font/css/open-iconic-bootstrap.css" rel="stylesheet"> -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
	
	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-104312945-2', 'auto');
	  ga('send', 'pageview');
	</script>
	
	<script>
		$(document).ready(function(){ 
			$('#myTab li:eq(1) a').tab('show');
			});
	</script>		
<script>var pointmatrix={"variable":["Edad","Sexo","DM","D_Dimer","Crea","Ferritina"],"coefficient":[0.1445115,-2.351791,1.595572,7.699058e-06,0.3579191,0.0003374118],"HR":[1.155475,0.09519847,4.93115,1.000008,1.43035,1.000337],"mean value":[67.30624,0.4224138,0.2456897,2764.73,1.160611,918.7593],"mean partial risk":[16756.18,0.3703047,1.479961,1.021514,1.514984,1.363425],"mean risk":[16761.93,16761.93,16761.93,16761.93,16761.93,16761.93]};var variable0="variable";var variable=pointmatrix[variable0];var coef0="coefficient";var coef=pointmatrix[coef0];var HR0="HR";var HR=pointmatrix[HR0];var mean_risk0="mean risk";var mean_risk=pointmatrix[mean_risk0];function totalCOVID(){var age=parseFloat(document.getElementById("age").value);var sex=parseFloat(document.getElementById("sex").value);var diabetes=parseFloat(document.getElementById("diabetes").value);var d_dimer=parseFloat(document.getElementById("d_dimer").value);var crea=parseFloat(document.getElementById("crea").value);var ferritin=parseFloat(document.getElementById("ferritin").value);var age_hr=HR[0];var sex_hr=HR[1];var diabetes_hr=HR[2];var d_dimer_hr=HR[3];var crea_hr=HR[4];var ferritin_hr=HR[5];var age_coef=coef[0];var sex_coef=coef[1];var diabetes_coef=coef[2];var d_dimer_coef=coef[3];var crea_coef=coef[4];var ferritin_coef=coef[5];var age_mean_risk=mean_risk[0];var sex_mean_risk=mean_risk[1];var diabetes_mean_risk=mean_risk[2];var d_dimer_mean_risk=mean_risk[3];var crea_mean_risk=mean_risk[4];var ferritin_mean_risk=mean_risk[5];var age_final_risk=Math.exp((age*age_coef))/age_mean_risk;var sex_final_risk=Math.exp((sex*sex_coef))/sex_mean_risk;var diabetes_final_risk=Math.exp((diabetes*diabetes_coef))/diabetes_mean_risk;var d_dimer_final_risk=Math.exp((d_dimer*d_dimer_coef))/d_dimer_mean_risk;var crea_final_risk=Math.exp((crea*crea_coef))/crea_mean_risk;var ferritin_final_risk=Math.exp((ferritin*ferritin_coef))/ferritin_mean_risk;var totCOVID0=age_final_risk+sex_final_risk+diabetes_final_risk+d_dimer_final_risk+crea_final_risk+ferritin_final_risk;var totCOVID=totCOVID0.toFixed(3);var numberProb0=totCOVID0/(1+totCOVID0)*100;var numberProb=numberProb0.toFixed(2);document.getElementById("totCOVID").innerHTML=" = "+totCOVID;document.getElementById("numberProb").innerHTML=": "+numberProb+" % ";};$(".progress-bar").animate({width:"70%"},2500);</script>
<style>.btn-primary{background-color:#066}.btn-primary:hover{background-color:#004d4d}.text-primary{color:#066 !important}.input-lg{font-size:30px}.input{font-size:20px}.font-sm{font-size:0.7em}.nav-tabs>li>a{color:#84a5ae}.btn-danger:hover{border-radius:20px;background-color:#b62f2f;color:#48586a}@media print{.noPrint{display:none}}.progress{height:40px}.progress-bar .bg-info{background-color:#48586a}.progress-label{float:left;margin-left:1em;margin-right:1em}background-color: #e6a400 !important}.bg-danger{background-color:#cb1a2f !important}*/ </style>
<title>COVID Risk Score</title></head><body><div id="intro" class="container-fluid"><div class="row"><div class="col-sm-12 col-md-12 text-center"><h1> COVID Risk Score &nbsp;<i class="fas fa-lungs-virus fa-fw"></i></h1><h4> A simple score to estimate mortality risk in COVID patients.</h4><hr></div></div></div><div id="miDACE" class="container-fluid" onclick="totalCOVID()"><div class="row"><div class="col-sm-12 col-md-6 text-center"><div class="btn btn-primary btn-lg btn-block" ><div class="card-body"><div class="form-group "><div class="input-group"><div class="input-group-addon"> <span class="glyphicon glyphicon-calendar aria-hidden='true'">Age &nbsp;&nbsp;</span></div> <input class="form-control input-sm" type="number" id="age" name="edad" value="50" min="0" max="120" step="1"></div></div><div class="form-group"><div class="input-group"> <span class="input-group-addon"><span class="glyphicon glyphicon-user"></span>Sex &nbsp;&nbsp;</span> <select class="form-control input-sm" id="sex" name="sexo"><option value="0" ><h5> Male</h5></option><option value="1" selected="selected"><h5> Female</h5></option> </select></div></div><div class="form-group"><div class="input-group"> <span class="input-group-addon"><span class="glyphicon glyphicon-tint"></span>Diabetes &nbsp;&nbsp;</span> <select class="form-control input-sm" id="diabetes" name="diabete"><option value="0" selected="selected"><h5> No</h5></option><option value="1" ><h5> Yes</h5></option> </select></div></div><div class="form-group "><div class="input-group"><div class="input-group-addon"> <span class="glyphicon glyphicon-calendar aria-hidden='true'">D-Dimer &nbsp;&nbsp;</span></div> <input class="form-control input-sm" type="number" id="d_dimer" name="d_dimero" value="50" min="0" max="100000" step="1"></div></div><div class="form-group "><div class="input-group"><div class="input-group-addon"> <span class="glyphicon glyphicon-calendar aria-hidden='true'">Creatinine (mg/dL) &nbsp;&nbsp;</span></div> <input class="form-control input-sm" type="number" id="crea" name="creatinina" value="0.8" min="0" max="50" step="1"></div></div><div class="form-group "><div class="input-group"><div class="input-group-addon"> <span class="glyphicon glyphicon-calendar aria-hidden='true'">Ferritin (ng/mL) &nbsp;&nbsp;</span></div> <input class="form-control input-sm" type="number" id="ferritin" name="ferritina" value="10" min="0" max="100000" step="1"></div></div></div></div> <br></div><div class="col-sm-12 col-md-6 text-center" ><div id="results" class="container-fluid"><div class="row"><div class="col-sm-12 col-md-12 text-center"><div class="card text-white bg-warning mb-3"><div class="card-body"><h1> <i class="fas fa-lungs-virus fa-fw"></i>&nbsp; Predicted hazard ratio <span id="totCOVID"> </span> <span id=""> </span></h1></div></div></div></div><div class="row"><div class="col-sm-12 col-md-12 text-center"><div class="card text-primary border-warning mb-3"><div class="card-body"><h1> Chance that the patient dies before cohort average<span id="numberProb"> </span> <span id=""> </span></h1></div></div></div></div></div></div></div><div class="row"><div class="col-sm-12 col-md-12"><div class="card" ><div class="card-body"><h5></h5><ul>Population: 232 hospitalised patients with confirmed COVID disease (positive SARS-CoV-2 RNA in PCR).</ul><ul>Outcome: Death during hospital admission.</ul><ul>Model: Cox regression. Variable selection and coefficient regularization via LASSO.</ul><ul></ul><ul>PROBAST: high risk of bias. Recommended for use only in the Santiago area.</ul></div></div></div></div></div><div id="contact" class="container-fluid"><div class="row"><div class="col-sm-12 col-md-12 text-center"><div class="card-body"><h4> Contact</h4><p><span class="fa fa-user-md"></span> Aurora Baluja-Gonz&aacute;lez <sup>1</sup>, &nbsp; Diego L&oacute;pez-Otero <sup>2</sup>, Javier L&oacute;pez Pais <sup>2</sup></p><p><span class="fa fa-hospital-o"></span> Servicio de Anestesiolog&iacute;a y Reanimaci&oacute;n<sup>1</sup>; Servicio de Cardiolog&iacute;a, CIBERCV <sup>2</sup>.</p><p><span class="glyphicon glyphicon-map-marker"></span> Hospital Cl&iacute;nico Universitario, Santiago de Compostela<sup></sup>, Espa&ntilde;a</p><p><h3></h3></p></div></div></div></div><div id="license" class="container-fluid"><div class="row"><div class="col-sm-12 col-md-12"><h3></h3><hr><p style="color:#bfbfbf"><span class="fa fa-user-md" style="color:#bfbfbf"></span> Author: A. Baluja, 2020. License - <a href="https://github.com/aurora-mareviv" target="blank" style="color:#bfbfbf">Code</a>: GNU-GPL v3. <a href="http://getbootstrap.com/" target="blank" style="color:#bfbfbf">Bootstrap CSS</a>, <a href="https://bootswatch.com/" target="blank" style="color:#bfbfbf">Bootswatch</a>: MIT.</p></div></div></div></body></html>
